<div>
    <div *ngIf="createFormVisible; then showForm else hideForm"></div>
    <ng-template #showForm>
        <app-prediction-create (submit)="addPrediction($event)"
                               (cancel)="createFormVisible = false"
                               [unavailableCategoryIds]="extractPredictionCategoryIds()">
        </app-prediction-create>
    </ng-template>
    <ng-template #hideForm>
        <button (click)="createFormVisible = true">Create new prediction</button>
    </ng-template>
    <table *ngIf="month.predictions?.length > 0">
        <thead>
            <tr>
                <th>Category</th>
                <th>Predicted value</th>
                <th>Actual value</th>
            </tr>
        </thead>
        <tbody app-prediction-row
               *ngFor="let prediction of month.predictions | predictionsSort"
               [prediction]="prediction"
               [transactions]="filterTransactionsByCategory(prediction.category.id)">
        </tbody>
    </table>
</div>